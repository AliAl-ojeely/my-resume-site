name: PR Check Workflow

# تشغيل الووركفلو عند كل Pull Request على فرع main
on:
  pull_request:
    branches: [ main ]

jobs:
  simple-pr-job:
    runs-on: ubuntu-latest

    steps:
      # 1. سحب الكود من الـ PR
      - name: Checkout repository
        uses: actions/checkout@v3

      # 2. رسالة ترحيبية
      - name: Say Hello
        run: echo "Hello! PR is being checked for my-resume-site."

      # 3. حساب عدد الملفات المعدلة
      - name: Count files changed
        run: |
          FILE_COUNT=$(git diff --name-only ${{ github.event.before }} ${{ github.sha }} | wc -l)
          echo "Number of files changed in this PR: $FILE_COUNT"

      # 4. مثال: التحقق من وجود index.html
      - name: Check for index.html
        run: |
          if [ -f "index.html" ]; then
            echo "index.html exists ✅"
          else
            echo "index.html is missing ❌"
            exit 1
          fi
